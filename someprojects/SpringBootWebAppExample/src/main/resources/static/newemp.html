<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$(function()
		{
			
			
			$("#b1").click(
			function()
			{
				
				let inputforAdding =
					{firstName:$("#fname").val(),
						lastName:$("#lname").val(),
						emailId:$("#email").val()};
				
				let surl="http://localhost:8080/api/v1/employees";
				
				
				
				let ri={
						type:"post",
						dataType:"text",
						url:surl,
						contentType: "application/json",
						data:JSON.stringify(inputforAdding),
						success:function(datafromServerifsuccess)
						{
							
							$("#message").html("added sucessfully");
							
							
						},
						error:function(err)
						{
							$("#message").html(JSON.stringify(err));
						}
							
				};
				
				$.ajax(ri);
				
				
				
				
				
				
				
				$("#empnumber").val(0);
				$("#fname").val("");
				$("#lname").val("");
				$("#email").val("");
				
				
				
				
				
				
				
				
			});
			
			
			$("#b2").click(
					function()
					{
						
						let id = $("#empnumber").val();
						let inputforUpdating =
						{firstName:$("#fname").val(),
							lastName:$("#lname").val(),
							emailId:$("#email").val()};
						
	
					let surl="http://localhost:8080/api/v1/employees/"+id;
						
					let ri={
							type:"put",
							dataType:"text",
							url:surl,
							contentType: "application/json",
							data:JSON.stringify(inputforUpdating),
							success:function(datafromServerifsuccess)
							{
								
								$("#message").html("updated sucessfully");
								
								
							},
							error:function(err)
							{
								$("#message").html(JSON.stringify(err));
							}
								
					};
					
					$.ajax(ri);
					
				
						
						
					
					alert("updating success" + JSON.stringify(inputforUpdating));
					
					$("#message").html("updated successfully");
					$("#empnumber").val(0);
					$("#fname").val("");
					$("#lname").val("");
					$("#email").val("");
				
						
						
					});
			
			
			$("#b3").click(
					function()
					{
						alert("delete employee");
						
					});
			
			
			$("#b4").click(
					function()
					{
						alert("view all employee");
						
					});
			
			
			$("#b5").click(
					function()
					{
						let id = $("#empnumber").val();
						
						let surl="http://localhost:8080/api/v1/employees/"+id;
						
						let ri={
								type:"get",
								dataType:"json",
								url:surl,
								success:function(datafromServerifsuccess)
								{
									
									$("#empnumber").val(datafromServerifsuccess.id);
									$("#fname").val(datafromServerifsuccess.firstName);
									$("#lname").val(datafromServerifsuccess.lastName);
									$("#email").val(datafromServerifsuccess.emailId);
									$("#message").html("got data successfully");
									
								},
								error:function(err)
								{
									$("#empnumber").val(0);
									$("#fname").val("");
									$("#lname").val("");
									$("#email").val("");
									$("#message").html("empno found found");
							}
									
						};
						
						$.ajax(ri);
						
						
						
						
						
						
						let datafromServerifsuccess={
						        id: 2,
						        firstName: "b",
						        lastName: "c",
						        emailId: "a"
						    };
						$("#empnumber").val(datafromServerifsuccess.id);
						$("#fname").val(datafromServerifsuccess.firstName);
						$("#lname").val(datafromServerifsuccess.lastName);
						$("#email").val(datafromServerifsuccess.emailId);
						$("#message").html("got data successfully");
						
						
						
						
						
					});
			
			
					
			
			
			
			
			
			
		}
		
		);

</script>


</head>
<body>
new emp.html

<Br/><h1> employee detail scenario</h1>

<Br/> employee number
<input type="text" id="empnumber"/>
<span id="message" > what happened</span>

<Br/> first name
<input type="text" id="fname"/>

<Br/> last name
<input type="text" id="lname"/>

<Br/> email
<input type="text" id="email"/>


<Br/><button id="b1" > insert </button>
<button id="b2" > update </button>
<button id="b3" > delete </button>
<button id="b4" > viewall </button>
<button id="b5" > view particular employee </button>

<hr/>
<p id="allemployee">  </p>





</body>
</html>